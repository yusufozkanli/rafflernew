<div class="container" id="container-dashboard">
  <div class="userflex">

      <div class="user-info">
        <%= link_to "", edit_user_path(@user) , class: "fa fa-pencil edit-user" %>
        <%= cl_image_tag @user.photo, class: "avatar-usershow", crop: :fill, style: "width: 150px; height: 150px;" %>
        <div class="info-text text-center">
          <h3> <%= @user.name %> </h3>
          <p> <%= @user.location %> </p>
        </div>
      </div>

      <div class="user-raffles">
        <ul class="nav nav-tabs">
          <li class="nav-item">

            <%= link_to "Participant", user_path(@user, tab: "Participant") %>
            <!-- <a class="nav-link active" href="#" id="participant_tab">Participant</a> -->
          </li>
          <li class="nav-item">
            <%= link_to "Organiser", user_path(@user, tab: "Organiser") %>

          </li>
        </ul>

        <div class="underviews">
          <div class="titles">
            <div class="title green">
              <a id="pending-raffles-link" class="active-link" href="#">Pending Raffles</a>
            </div>
            <div class="title gray">
              <a id="past-raffles-link" href="#">Past Raffles</a>
            </div>
          </div>
          <div id="raffles-pending" class="active">
            <%= render 'shared/card3', raffles: @raffles_pending %>
          </div>
          <div id="raffles-past" class="hidden">
            <%= render 'shared/card3', raffles: @raffles_past %>
          </div>
          <%#= render 'shared/card3', raffles: @raffles %>
        </div>
      </div>
    </div>
  </div>
</div>

<% content_for(:after_js) do %>
  <script>
    const pendingRafflesButton = document.getElementById('pending-raffles-link')
    const pastRafflesButton = document.getElementById('past-raffles-link')

    const pendingRafflesDiv = document.getElementById('raffles-pending')
    const pastRafflesDiv = document.getElementById('raffles-past')

    pendingRafflesButton.addEventListener('click', (e) => {
      e.preventDefault()
      pendingRafflesDiv.className = 'active'
      pastRafflesDiv.className = 'hidden'

      // pendingRafflesDiv.className -= ' hidden'
      // pastRafflesDiv.className -= ' active'

      pendingRafflesButton.className = 'active-link'
      pastRafflesButton.className = ''
    })

    pastRafflesButton.addEventListener('click', (e) => {
      e.preventDefault()
      pendingRafflesDiv.className = 'hidden'
      pastRafflesDiv.className = 'active'

      // pendingRafflesDiv.className -= ' active'
      // pastRafflesDiv.className -= ' hidden'

      pendingRafflesButton.className = ''
      pastRafflesButton.className = 'active-link'
    })
  </script>
<% end  %>

<%= javascript_pack_tag 'dashboard' %>
